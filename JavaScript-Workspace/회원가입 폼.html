<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>회원가입</title>
</head>
<body>
    <h1>practice6</h1>
    <fieldset>
        <legend>회원가입</legend>
        * 아이디 : <input type="text" id="userId"><span id="span_id"></span> <br>
        <label style="font-size: 10px; color: gray;">첫 글자는 반드시 영문자로, 그리고 영문자, 숫자를 포함하여 총 4~12자로 입력하시오.</label><br><br>
        * 비밀번호 : <input type="password" id="userPwd"> <br>
        <label style="font-size: 10px; color: gray;">영문자, 숫자, 특수문자(!@#$%^)로 총 8~15자로 입력하시오.</label><br><br>
        * 비밀번호 확인 : <input type="password" id="checkPwd"><span id="span_pwd"></span> <br>
        <label style="font-size: 10px; color: gray;">위의 비밀번호와 일치하게 입력하시오.</label><br><br>
        * 이름 : <input type="text" id="userName"> <br>
        <label style="font-size: 10px; color: gray;">한글로만 이루어져야 하며 2글자 이상으로 입력하시오.</label><br><br>
        * 이메일 : <input type="text" id="email"> <br>
        <label style="font-size: 10px; color: gray;">이메일 형식에 맞춰서 입력하시오.</label><br><br>
        * 취미 : <input type="text" id="hobby" placeholder="축구,농구,야구,독서 등"> <br><br>
        * 거주지 : <select name="" id="">
            <option value="">서울</option>
            <option value="">경기</option>
        </select> <br><br>
        <button type="button" id="btn">회원가입</button>
        <button type="reset">취소</button>
    </fieldset>

    <script>
        let userId = document.getElementById("userId");
        let inputCheckPwd = document.getElementById("checkPwd");
        let btn = document.getElementById("btn");
        let userName = document.getElementById("userName");

        inputCheckPwd.addEventListener('blur',checkPwd);
        btn.addEventListener('click',validation);

        function checkPwd(){
            let userPwd = document.getElementById("userPwd").value;
            let checkPwd = document.getElementById("checkPwd").value;
            let span_pwd = document.getElementById("span_pwd");

            if(userPwd === checkPwd){
                span_pwd.innerHTML = "비밀번호가 일치합니다."
                span_pwd.style.color = "green";
            }else{
                span_pwd.innerHTML = "비밀번호가 일치하지 않습니다."
                span_pwd.style.color = "red";
            }
        }

        function validation(){
            // 1. 입력하지 않은 값이 있는지 체크
            let inputs = document.getElementsByTagName('input');
            let inputNames = ["아이디","비밀번호","비밀번호 확인","이름","이메일","취미"];
            for(let i = 0; i < inputs.length; i++){
                if(inputs[i].value.length == 0){
                    alert(inputNames[i] + "를 입력해주세요");
                    inputs[i].focus();
                    return;
                }
            }
            let regExp = /[a-zA-Z][a-zA-Z0-9]{3,11}/;
            if(regExp.test(userId.value)){
            }else{
                alert("유효하지 않은 아이디");
                userId.select();
                return;
            }
            regExp = /[a-zA-Z0-9!@#$%^]{8,15}/;
            if(regExp.test(userPwd.value)){
            }else{
                alert("유효하지 않은 비밀번호");
                userPwd.select();
                return;
            }
            regExp = /[ㄱ-ㅎㅏ-ㅣ가-힣]{2,}/;
            if(regExp.test(userName.value)){
            }else{
                alert("유효하지 않은 이름");
                userName.select();
                return;
            }
            alert("회원가입 성공");
        }


    </script>
</body>
</html>